from rembg import remove
import cv2
import numpy as np
import matplotlib.pyplot as plt

# Laad de afbeelding
input_path = 'C:\\Users\\stefa\\Documents\\beeldherkenning\\1.3\\03_frame2495.jpg'
img = cv2.imread(input_path)

# Zet de afbeelding om naar RGB
img_rgb = cv2.cvtColor(img, cv2.COLOR_BGR2RGB)

# Achtergrond verwijderen
output = remove(img_rgb)

# Zet naar numpy array
output = np.array(output)

# Maak een mask voor transparante pixels
mask = output[:, :, 3] != 0   # True waar het dier zichtbaar is

# Haal alleen het dier (RGB zonder alpha)
dier_rgb = output[:, :, :3]

# Gemiddelde kleur van het dier (alleen pixels waar mask True is)
gemiddelde_kleur = dier_rgb[mask].mean(axis=0)

print("Gemiddelde kleur (R, G, B):", gemiddelde_kleur)

# Visualiseer het resultaat + de gemiddelde kleur
plt.subplot(1, 2, 1)
plt.imshow(dier_rgb)
plt.title("Dier met zwarte achtergrond")
plt.axis('off')

# Vierkantje met gemiddelde kleur
plt.subplot(1, 2, 2)
plt.imshow(np.ones((100,100,3), dtype=np.uint8) * gemiddelde_kleur.astype(np.uint8))
plt.title("Gemiddelde kleur")
plt.axis('off')

plt.show()
